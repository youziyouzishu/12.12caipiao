var e,t,l,o,i,n;import{_ as a}from"./uv-swiper.ix2CJdRx.js";import{r as s,e as c,c as r,a as u,w as d,f as m,b as p,g as f,i as h,S as _,n as g,h as v,F as y,j as k,k as x,l as S,m as b,t as C,p as w,q as $,o as z,u as B,v as F,x as j,d as T,y as N,$ as P}from"./index-Dmu3mr1_.js";import{_ as D}from"./uv-icon.zJBDCHES.js";import{m as U,a as I}from"./mixin.qHq9NBSw.js";import{_ as R}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{_ as E}from"./uv-button.CRA7t01f.js";import{_ as H}from"./uv-modal.C8ueCcq2.js";import G from"./pages_shop-pages-shop-shop.CIRKnBlA.js";import"./uv-loading-icon.BL07fx-H.js";import"./uv-popup.-CA74lk7.js";import"./uv-overlay.CooXhWSs.js";import"./uv-status-bar.C2pO0b0Y.js";import"./uv-navbar.CCP2bw2Z.js";import"./z-paging.BBWlMYJs.js";const q=R({emits:["click","close","change"],mixins:[U,I,{props:{text:{type:[Array],default:""},icon:{type:[String,Boolean,null],default:"volume"},mode:{type:String,default:""},color:{type:String,default:"#f9ae3d"},bgColor:{type:String,default:"#fdf6ec"},fontSize:{type:[String,Number],default:14},speed:{type:[String,Number],default:80},step:{type:Boolean,default:!1},duration:{type:[String,Number],default:1500},disableTouch:{type:Boolean,default:!0},disableScroll:{type:Boolean,default:!1},...null==(t=null==(e=uni.$uv)?void 0:e.props)?void 0:t.columnNotice}}],watch:{text:{immediate:!0,handler(e,t){this.$uv.test.array(e)||this.$uv.error("noticebar组件direction为column时，要求text参数为数组形式")}}},computed:{textStyle(){let e={};return e.color=this.color,e.fontSize=this.$uv.addUnit(this.fontSize),e},vertical(){return"horizontal"!=this.mode},swiperStyle:()=>({})},data:()=>({index:0}),methods:{noticeChange(e){this.index=e.detail.current,this.$emit("change",this.index)},clickHandler(){this.$emit("click",this.index)},close(){this.$emit("close")}}},[["render",function(e,t,l,o,i,n){const a=s(c("uv-icon"),D),w=h,$=S,z=x,B=_;return u(),r(w,{class:"uv-notice",onClick:n.clickHandler},{default:d((()=>[m(e.$slots,"icon",{},(()=>[e.icon?(u(),r(w,{key:0,class:"uv-notice__left-icon"},{default:d((()=>[p(a,{name:e.icon,color:e.color,size:"19"},null,8,["name","color"])])),_:1})):f("",!0)]),!0),p(B,{"disable-touch":e.disableTouch,vertical:!e.step,circular:"",interval:e.duration,autoplay:!e.disableScroll,class:"uv-notice__swiper",style:g([n.swiperStyle]),onChange:n.noticeChange},{default:d((()=>[(u(!0),v(y,null,k(e.text,((e,t)=>(u(),r(z,{key:t,class:"uv-notice__swiper__item"},{default:d((()=>[p($,{class:"uv-notice__swiper__item__text uv-line-1",style:g([n.textStyle])},{default:d((()=>[b(C(e),1)])),_:2},1032,["style"])])),_:2},1024)))),128))])),_:1},8,["disable-touch","vertical","interval","autoplay","style","onChange"]),["link","closable"].includes(e.mode)?(u(),r(w,{key:0,class:"uv-notice__right-icon"},{default:d((()=>["link"===e.mode?(u(),r(a,{key:0,name:"arrow-right",size:17,color:e.color},null,8,["color"])):f("",!0),"closable"===e.mode?(u(),r(a,{key:1,name:"close",size:16,color:e.color,onClick:n.close},null,8,["color","onClick"])):f("",!0)])),_:1})):f("",!0)])),_:3},8,["onClick"])}],["__scopeId","data-v-1e0ed8e8"]]);const A=R({name:"uv-row-notice",emits:["click","close"],mixins:[U,I,{props:{text:{type:String,default:""},icon:{type:[String,Boolean,null],default:"volume"},mode:{type:String,default:""},color:{type:String,default:"#f9ae3d"},bgColor:{type:String,default:"#fdf6ec"},fontSize:{type:[String,Number],default:14},speed:{type:[String,Number],default:80},...null==(o=null==(l=uni.$uv)?void 0:l.props)?void 0:o.rowNotice}}],data:()=>({animationDuration:"0",animationPlayState:"paused",nvueInit:!0,show:!0}),watch:{text:{immediate:!0,handler(e,t){this.vue(),this.$uv.test.string(e)||this.$uv.error("noticebar组件direction为row时，要求text参数为字符串形式")}},fontSize(){this.vue()},speed(){this.vue()}},computed:{textStyle(){let e={};return e.color=this.color,e.fontSize=this.$uv.addUnit(this.fontSize),e},animationStyle(){let e={};return e.animationDuration=this.animationDuration,e.animationPlayState=this.animationPlayState,e},innerText(){let e=[];const t=this.text?this.text.split(""):[];for(let l=0;l<t.length;l+=20)e.push(t.slice(l,l+20).join(""));return e}},mounted(){this.init()},methods:{init(){this.vue(),this.$uv.test.string(this.text)||this.$uv.error("noticebar组件direction为row时，要求text参数为字符串形式")},async vue(){let e=0;await this.$uv.sleep(),e=(await this.$uvGetRect(".uv-notice__content__text")).width,(await this.$uvGetRect(".uv-notice__content")).width,this.animationDuration=e/this.$uv.getPx(this.speed)+"s",this.animationPlayState="paused",setTimeout((()=>{this.animationPlayState="running"}),10)},async nvue(){},loopAnimation(e,t){},getNvueRect(e){},clickHandler(e){this.$emit("click")},close(){this.$emit("close")}}},[["render",function(e,t,l,o,i,n){const a=s(c("uv-icon"),D),_=h,x=S;return u(),r(_,{class:"uv-notice",onClick:n.clickHandler},{default:d((()=>[m(e.$slots,"icon",{},(()=>[e.icon?(u(),r(_,{key:0,class:"uv-notice__left-icon"},{default:d((()=>[p(a,{name:e.icon,color:e.color,size:"19"},null,8,["name","color"])])),_:1})):f("",!0)]),!0),p(_,{class:"uv-notice__content",ref:"uv-notice__content"},{default:d((()=>[p(_,{ref:"uv-notice__content__text",class:"uv-notice__content__text",style:g([n.animationStyle])},{default:d((()=>[(u(!0),v(y,null,k(n.innerText,((e,t)=>(u(),r(x,{key:t,style:g([n.textStyle])},{default:d((()=>[b(C(e),1)])),_:2},1032,["style"])))),128))])),_:1},8,["style"])])),_:1},512),["link","closable"].includes(e.mode)?(u(),r(_,{key:0,class:"uv-notice__right-icon"},{default:d((()=>["link"===e.mode?(u(),r(a,{key:0,name:"arrow-right",size:17,color:e.color},null,8,["color"])):f("",!0),"closable"===e.mode?(u(),r(a,{key:1,onClick:n.close,name:"close",size:16,color:e.color},null,8,["onClick","color"])):f("",!0)])),_:1})):f("",!0)])),_:3},8,["onClick"])}],["__scopeId","data-v-07c5f837"]]);const V=R({name:"uv-notice-bar",emits:["click","close","change"],mixins:[U,I,{props:{text:{type:[Array,String],default:()=>[]},direction:{type:String,default:"row"},step:{type:Boolean,default:!1},icon:{type:[String,Boolean,null],default:"volume"},mode:{type:String,default:""},color:{type:String,default:"#f9ae3d"},bgColor:{type:String,default:"#fdf6ec"},speed:{type:[String,Number],default:80},fontSize:{type:[String,Number],default:14},duration:{type:[String,Number],default:2e3},url:{type:String,default:""},linkType:{type:String,default:"navigateTo"},disableTouch:{type:Boolean,default:!0},disableScroll:{type:Boolean,default:!1},...null==(n=null==(i=uni.$uv)?void 0:i.props)?void 0:n.noticeBar}}],data:()=>({show:!0}),methods:{click(e){this.$emit("click",e),this.url&&this.linkType&&this.openPage()},close(){this.show=!1,this.$emit("close")},change(e){this.$emit("change",e)}}},[["render",function(e,t,l,o,i,n){const a=s(c("uv-column-notice"),q),m=s(c("uv-row-notice"),A),p=h;return i.show?(u(),r(p,{key:0,class:"uv-notice-bar",style:g([{backgroundColor:e.bgColor},e.$uv.addStyle(e.customStyle)])},{default:d((()=>["column"===e.direction||"row"===e.direction&&e.step?(u(),r(a,{key:0,color:e.color,bgColor:e.bgColor,text:e.text,mode:e.mode,step:e.step,icon:e.icon,"disable-touch":e.disableTouch,"disable-scroll":e.disableScroll,fontSize:e.fontSize,duration:e.duration,onClose:n.close,onClick:n.click,onChange:n.change},null,8,["color","bgColor","text","mode","step","icon","disable-touch","disable-scroll","fontSize","duration","onClose","onClick","onChange"])):(u(),r(m,{key:1,color:e.color,bgColor:e.bgColor,text:e.text,mode:e.mode,fontSize:e.fontSize,speed:e.speed,url:e.url,linkType:e.linkType,icon:e.icon,onClose:n.close,onClick:n.click},null,8,["color","bgColor","text","mode","fontSize","speed","url","linkType","icon","onClose","onClick"]))])),_:1},8,["style"])):f("",!0)}],["__scopeId","data-v-20a3c1e7"]]),L=R({__name:"index",setup(e){const t=w([]),l=w(""),o=w(),i=w(),n=w(),m=w('<p style="max-height:30px;overflow:auto;">空山新雨后<br>天气晚来秋空山</p>'),_=w("使用声明"),g=w(""),k=w(),x=w(""),D=w(!1),U=e=>{console.log("handleBannerClick",e);t.value[e].url},I=()=>{console.log("关闭后跳转"),o.value.close(),P("/pages_home/pages/take-guess/take-guess")},R=()=>{console.log("点击确认按钮")},q=()=>{i.value.close()},A=()=>{n.value.close()},L=(e="")=>{e?P(e):i.value.open()},O=()=>{plus.runtime.openURL(x.value)};return $((()=>{n.value.open()})),z((e=>{console.log("options",e),(async()=>{const e=(await F()).map((e=>({...e,image:j(e.image)})));console.log("queryBannerList",e),t.value=e})();const o=B.getItem("config");console.log("config",o),g.value=o.tiyu_url||"",m.value=o.law_rule||"",_.value=o.law_title||"",l.value=o.notice_text,D.value=o.switch||!1})),(e,g)=>{const x=s(c("uv-swiper"),a),w=s(c("uv-notice-bar"),V),$=T,z=h,B=S,F=s(c("uv-button"),E),j=s(c("uv-modal"),H),P=N;return u(),v(y,null,[D.value?(u(),r(z,{key:0,class:"index-container"},{default:d((()=>[p(x,{list:t.value,height:"548rpx",keyName:"image","bg-color":"#FFFFFF",circular:"",indicator:"",onClick:U},null,8,["list"]),p(z,{class:"px-32 py-36"},{default:d((()=>[p(w,{text:l.value,style:{"background-color":"#FFFFFF","border-radius":"12rpx 12rpx 12rpx 12rpx",color:"#000000"},color:"#000000"},null,8,["text"]),p(z,{class:"menu-list flex flex-wrap mt-40"},{default:d((()=>[p(z,{class:"menu-list-item",onClick:g[0]||(g[0]=e=>{})},{default:d((()=>[p($,{class:"image",src:"/h5/assets/menu_1-BhR4o9Q1.png",mode:"aspectFill"})])),_:1}),p(z,{class:"menu-list-item",onClick:g[1]||(g[1]=e=>{o.value.open()})},{default:d((()=>[p($,{class:"image",src:"/h5/assets/menu_2-DV-oBKUU.png",mode:"aspectFill"})])),_:1}),p(z,{class:"menu-list-item",onClick:g[2]||(g[2]=e=>L("/pages_home/pages/history/history"))},{default:d((()=>[p($,{class:"image",src:"/h5/assets/menu_3-DGH3cqUb.png",mode:"aspectFill"})])),_:1}),D.value?(u(),r(z,{key:0,class:"menu-list-item",onClick:g[3]||(g[3]=e=>L(""))},{default:d((()=>[p($,{class:"image",src:"/h5/assets/menu_4-DyNXxP-n.png",mode:"aspectFill"})])),_:1})):f("",!0),p(z,{class:"menu-list-item",onClick:g[4]||(g[4]=e=>L("/pages_home/pages/knowledge-lecture/knowledge-lecture"))},{default:d((()=>[p($,{class:"image",src:"/h5/assets/menu_5-BhyPzgVP.png",mode:"aspectFill"})])),_:1}),D.value?(u(),r(z,{key:1,class:"menu-list-item",onClick:g[5]||(g[5]=e=>L(""))},{default:d((()=>[p($,{class:"image",src:"/h5/assets/menu_6-BPG0fEs2.png",mode:"aspectFill"})])),_:1})):f("",!0),D.value?(u(),r(z,{key:2,class:"menu-list-item module-item center",onClick:g[6]||(g[6]=e=>L(""))},{default:d((()=>[p(B,null,{default:d((()=>[b("悬赏邀约")])),_:1})])),_:1})):f("",!0),D.value?(u(),r(z,{key:3,class:"menu-list-item module-item center",onClick:g[7]||(g[7]=e=>L(""))},{default:d((()=>[p(B,null,{default:d((()=>[b("众盈圈")])),_:1})])),_:1})):f("",!0)])),_:1})])),_:1}),p(j,{ref_key:"modal",ref:o,title:"",content:"纯属娱乐，不保证盈利",align:"center",onConfirm:R,"close-on-click-overlay":!1},{confirmButton:d((()=>[p(z,{class:"center p-20"},{default:d((()=>[p(F,{style:{width:"292rpx",height:"92rpx"},shape:"circle",color:"#E42B28",onClick:I},{default:d((()=>[b("确定")])),_:1})])),_:1})])),_:1},512),p(j,{ref_key:"modal2",ref:i,title:"",content:"建设中~",align:"center"},{confirmButton:d((()=>[p(z,{class:"center p-20"},{default:d((()=>[p(F,{style:{width:"292rpx",height:"92rpx"},shape:"circle",color:"#E42B28",onClick:q},{default:d((()=>[b("返回")])),_:1})])),_:1})])),_:1},512),p(j,{ref_key:"modal3",ref:n},{confirmButton:d((()=>[p(z,{class:"center p-20"},{default:d((()=>[p(F,{style:{width:"292rpx",height:"92rpx"},shape:"circle",color:"#E42B28",onClick:A},{default:d((()=>[b("确定")])),_:1})])),_:1})])),default:d((()=>[p(z,{class:""},{default:d((()=>[p(z,{class:"solt-title"},{default:d((()=>[p(B,null,{default:d((()=>[b(C(_.value),1)])),_:1})])),_:1}),p(z,{class:"slot-content"},{default:d((()=>[p(P,{nodes:m.value},null,8,["nodes"])])),_:1})])),_:1})])),_:1},512)])),_:1})):(u(),r(G,{key:1,isShow:D.value},null,8,["isShow"])),p(j,{ref_key:"updateModal",ref:k,title:"提示",closeOnClickOverlay:!1,content:"有最新版本,请前往更新!",align:"center","async-close":"",onConfirm:O},null,512)],64)}}},[["__scopeId","data-v-228e79e2"]]);export{L as default};
