import{A as e,p as s,L as a,q as l,u as t,r as o,e as c,h as u,a as r,b as n,w as d,i,m as p,g as m,F as f,d as g,l as A,c as b,D as v,aq as x,aI as h,Y as y,Q as k,aE as w,M as F,x as C,t as B,ae as X,j as M,O as K,bn as q,bo as E,$ as V,o as P,K as S,aj as j,bp as U,bq as z,br as I,H as Z,bs as G}from"./index-Dmu3mr1_.js";import{_ as Y}from"./uv-navbar.CCP2bw2Z.js";import{_ as J}from"./uv-swiper.ix2CJdRx.js";import{_ as N}from"./uv-icon.zJBDCHES.js";import{_ as O}from"./uv-parse.DvGtt_1J.js";import{_ as W}from"./uv-badge.CawE2s1j.js";import{_ as H}from"./uv-button.CRA7t01f.js";import{_ as T,a as _}from"./icon_rate.1z4GVlmh.js";import{_ as D}from"./uv-popup.-CA74lk7.js";import{g as L,_ as Q,a as R,b as $,c as ee,d as se,e as ae,f as le}from"./share_download.BdbCiIUT.js";import{_ as te}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{_ as oe}from"./c-number-box.B-90Vk8I.js";import"./uv-status-bar.C2pO0b0Y.js";import"./mixin.qHq9NBSw.js";import"./uv-loading-icon.BL07fx-H.js";import"./uv-overlay.CooXhWSs.js";const ce=te({name:"lime-painter-qrcode",mixins:[L("painter")],props:{id:String,css:[String,Object],text:String},data:()=>({type:"qrcode",el:{css:{},text:null}})},[["render",function(e,s,a,l,t,o){return null}]]),ue=te({__name:"share-popup",props:{goods:{type:Object,default:{}}},setup(w,{expose:F}){const C=w,{goods:B}=e(C),X=s(null),M=s(null),K=s(""),q=s();a({cover:"",title:"",qrCode:""});const E=s(!1),V=e=>{switch(e){case"wx":console.log("微信分享");break;case"pyq":console.log("朋友圈分享");break;case"hb":console.log("打开海报弹窗"),M.value.open()}},P=e=>{console.log("haibaoSuccess path",e),K.value=e};return F({open:()=>{X.value&&X.value.open()},close:()=>{X.value&&X.value.close()}}),l((()=>{const e=t.getItem("config");E.value=e.switch||!1})),(e,s)=>{const a=i,l=g,t=A,w=o(c("uv-popup"),D),F=o(c("l-painter-image"),Q),C=o(c("l-painter-text"),R),S=o(c("l-painter-view"),$),j=o(c("l-painter-qrcode"),ce),U=o(c("l-painter"),ee);return r(),u(f,null,[n(w,{ref_key:"popup",ref:X,mode:"bottom",round:"16rpx",closeable:""},{default:d((()=>[n(a,{class:"share-popup"},{default:d((()=>[n(a,{class:"share-popup-title"},{default:d((()=>[p(" 分享至 ")])),_:1}),n(a,{class:"share-menus"},{default:d((()=>[E.value?(r(),u(f,{key:0},[n(a,{class:"share-menu-item",onClick:s[0]||(s[0]=e=>V("wx"))},{default:d((()=>[n(l,{class:"icon",src:se,mode:""}),n(t,null,{default:d((()=>[p("微信好友")])),_:1})])),_:1}),n(a,{class:"share-menu-item",onClick:s[1]||(s[1]=e=>V("pyq"))},{default:d((()=>[n(l,{class:"icon",src:ae,mode:""}),n(t,null,{default:d((()=>[p("朋友圈")])),_:1})])),_:1})],64)):m("",!0),n(a,{class:"share-menu-item",onClick:s[2]||(s[2]=e=>V("hb"))},{default:d((()=>[n(l,{class:"icon",src:"/h5/static/images/share_hb.png",mode:""}),n(t,null,{default:d((()=>[p("生成海报")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},512),n(w,{ref_key:"hbpopup",ref:M,mode:"center",round:"20rpx"},{default:d((()=>[n(a,{class:"hb-popup",style:{}},{default:d((()=>[n(a,{class:"hb-box"},{default:d((()=>[n(U,{ref_key:"painter",ref:q,css:"width: 462rpx;background: #F5F5F5;border-radius: 20rpx 20rpx 20rpx 20rpx; padding: 28rpx 30rpx;",isCanvasToTempFilePath:"",onSuccess:P},{default:d((()=>[v(B).images&&v(B).images[0]?(r(),b(F,{key:0,src:v(B).images[0].image,css:"width: 402rpx; height: 402rpx; object-fit: cover;"},null,8,["src"])):m("",!0),n(S,{css:"margin-top: 16rpx; display: flex; justify-content: space-between; align-items: center;padding-bottom: 30rpx;"},{default:d((()=>[n(C,{css:"flex: 1;font-weight: 500;font-size: 24rpx; padding-right: 20rpx;",text:v(B).name},null,8,["text"]),n(C,{css:"font-weight: bold;font-size: 24rpx;color: #FF4D55;",text:v(B).price},null,8,["text"])])),_:1}),n(S,{css:"margin-top: 16rpx; display: flex;align-items: center;"},{default:d((()=>[n(j,{text:v(x),css:"width: 126rpx; height: 126rpx;"},null,8,["text"]),n(C,{css:"font-weight: 500;font-size: 24rpx; padding-left: 20rpx;",text:"长按识别二维码"})])),_:1})])),_:1},512)])),_:1}),n(a,{class:"share-menus"},{default:d((()=>[n(a,{class:"share-menu-item",onClick:s[3]||(s[3]=e=>{h({filePath:K.value,success:e=>{y(),k("保存图片成功!").then((()=>{$back()}))}})})},{default:d((()=>[n(l,{class:"icon",src:le,mode:""}),n(t,null,{default:d((()=>[p("保存图片")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},512)],64)}}},[["__scopeId","data-v-ec3888d2"]]),re=te({__name:"sku-popup",props:{goods:{type:Object,default:{}},skus:{type:Array,default:[]},selectSku:{type:Array,default:[]},type:{type:Number,default:1}},emits:["buyGoods","addToCart","change"],setup(a,{expose:l,emit:t}){const x=a,h=s({}),y=s(1),{goods:k={},skus:q=[],selectSku:E=[],type:V=1}=e(x),P=t,S=s(),j=w((()=>{let e=0;return E.value.forEach((s=>{e+=Number(s.amount||"0")})),e})),U=w((()=>E.value.map((e=>e)).join("/")));F((()=>{h.value=E.value}));const z=e=>{y.value=e,P("change",{sku:h.value,num:y.value})},I=()=>{P("buyGoods",{sku:h.value,num:y.value,amount:j.value})},Z=()=>{P("addToCart",{sku:h.value,num:y.value})};return l({open:()=>{S.value.open()},close:()=>{S.value.close()}}),(e,s)=>{const a=g,l=i,t=A,x=X,w=o(c("c-number-box"),oe),F=o(c("uv-popup"),D);return r(),b(l,{class:""},{default:d((()=>[n(F,{ref_key:"popup",ref:S,mode:"bottom",closeable:"",round:"20rpx"},{default:d((()=>[n(l,{class:"popup"},{default:d((()=>[n(l,{class:"popup-content"},{default:d((()=>[n(l,{class:"goods-box flex items-center"},{default:d((()=>[n(a,{class:"goods-image",src:v(C)(v(k).image),mode:"aspectFill"},null,8,["src"]),n(l,{class:"flex-1 pl-20"},{default:d((()=>[n(l,{class:"goods-price"},{default:d((()=>[p(" ￥"+B(v(k).price),1)])),_:1}),n(l,{class:"goods-sku"},{default:d((()=>[U.value?(r(),b(t,{key:0},{default:d((()=>[p(B(U.value)+" * "+B(y.value),1)])),_:1})):(r(),b(t,{key:1},{default:d((()=>[p("请选择")])),_:1}))])),_:1})])),_:1})])),_:1}),n(l,{class:"skus-box py-20"},{default:d((()=>[n(x,{"scroll-y":"true",style:{"max-height":"400rpx"}},{default:d((()=>[n(l,{class:""},{default:d((()=>[(r(),u(f,null,M(1,((e,s)=>n(l,{class:"sku-item mb-20",key:s},{default:d((()=>[n(l,{class:"mt-20 sku-item-tags flex flex-wrap"},{default:d((()=>[(r(!0),u(f,null,M(v(q),((e,a)=>(r(),b(l,{class:K(["sku-item-tag center",{"sku-item-tag-active":e==h.value[s]}]),key:a,onClick:a=>((e,s)=>{h.value[s]=e,P("change",{sku:h.value,num:y.value})})(e,s)},{default:d((()=>[p(B(e),1)])),_:2},1032,["class","onClick"])))),128))])),_:2},1024)])),_:2},1024))),64))])),_:1})])),_:1})])),_:1}),n(l,{class:"goods-num-box flex items-center justify-between mt-40"},{default:d((()=>[n(l,{class:"goods-num-label"},{default:d((()=>[n(t,null,{default:d((()=>[p("数量")])),_:1})])),_:1}),n(l,{class:"num-input-box"},{default:d((()=>[n(w,{value:y.value,onInput:z},null,8,["value"])])),_:1})])),_:1}),n(l,{class:"settings-btn-box flex items-center justify-between"},{default:d((()=>[3==v(V)?(r(),u(f,{key:0},[n(l,{class:"two-btn-1 center",onClick:s[0]||(s[0]=e=>Z())},{default:d((()=>[p(" 加入购物车 ")])),_:1}),n(l,{class:"two-btn-2 center",onClick:s[1]||(s[1]=e=>I())},{default:d((()=>[p(" 立即购买 ")])),_:1})],64)):(r(),u(f,{key:1},[1==v(V)?(r(),b(l,{key:0,class:"one-btn center",onClick:s[2]||(s[2]=e=>I())},{default:d((()=>[p("立即购买")])),_:1})):2==v(V)?(r(),b(l,{key:1,class:"one-btn center",onClick:s[3]||(s[3]=e=>Z())},{default:d((()=>[p("加入购物车")])),_:1})):m("",!0)],64))])),_:1})])),_:1})])),_:1})])),_:1},512)])),_:1})}}},[["__scopeId","data-v-5b2a25a0"]]),ne=te({__name:"address-popup",props:{address:{type:Object,default:{}},list:{type:Array,default:[]}},emits:["change"],setup(a,{expose:t,emit:x}){const h=a,{address:y,list:k}=e(h),w=x,F=s(null),C=()=>{F.value&&F.value.close()};return t({open:()=>{F.value&&F.value.open()},close:C}),l((()=>{})),(e,s)=>{const a=i,l=A,t=g,x=X,h=o(c("uv-popup"),D);return r(),b(h,{ref_key:"popup",ref:F,mode:"bottom",round:"16rpx",closeable:""},{default:d((()=>[n(a,{class:"address-popup"},{default:d((()=>[n(a,{class:"address-popup-title"},{default:d((()=>[p(" 配送至 ")])),_:1}),n(a,{class:"address-content mt-26"},{default:d((()=>[n(x,{"scroll-y":"true",style:{"max-height":"400rpx"}},{default:d((()=>[n(a,{class:""},{default:d((()=>[(r(!0),u(f,null,M(v(k),((e,s)=>(r(),b(a,{class:K(["address-item mb-20 flex items-center",{"address-item-active":v(y).id==e.id}]),key:s,onClick:s=>(e=>{w("change",e),C()})(e)},{default:d((()=>[n(a,{class:"flex-1 pr-20"},{default:d((()=>[n(a,{class:"name flex items-center"},{default:d((()=>[n(l,null,{default:d((()=>[p(B(e.name),1)])),_:2},1024),n(l,{class:"ml-20"},{default:d((()=>[p(B(e.mobile),1)])),_:2},1024),1==e.default?(r(),b(l,{key:0,class:"default-tag ml-20 center"},{default:d((()=>[p("默认")])),_:1})):m("",!0)])),_:2},1024),n(a,{class:"mt-14"},{default:d((()=>[p(B(`${e.province} ${e.city} ${e.region} ${e.address}`),1)])),_:2},1024)])),_:2},1024),n(a,{class:""},{default:d((()=>[q(n(t,{class:"icon-radio",src:"data:image/png;base64,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",mode:""},null,512),[[E,v(y).id==e.id]]),q(n(t,{class:"icon-radio",src:"data:image/png;base64,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",mode:""},null,512),[[E,v(y).id!=e.id]])])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1})])),_:1}),n(a,{class:"one-btn center",onClick:s[0]||(s[0]=e=>(console.log("handleMoreAddressClick"),void V("/pages_shop/pages/address-form/address-form",{is_goods:1})))},{default:d((()=>[p("选择其他地址")])),_:1})])),_:1})])),_:1},512)}}},[["__scopeId","data-v-04b16144"]]),de=te({__name:"goods-detail",setup(e){const a=s(),l=s({}),t=s(),x=s(),h=s([]),y=s(1),w=s(1),F=s(),X=s({}),K=s([]),q=e=>{console.log("handleBannerClick",e),Z({urls:l.value.images.map((e=>e.image)),current:e})},E=(e=1)=>{var s;w.value=e,null==(s=x.value)||s.open()},D=async e=>{console.log("buyGoods e",e);const s={goods_id:a.value,num:e.num,tag:e.sku.join("/"),address_id:X.value.id};V("/pages_shop/pages/confirm-order/confirm-order",s)},L=async e=>{var s;const l={goods_id:a.value,num:e.num,tag:e.sku.join("/")};console.log("addToCart e",e,l),await G(l),k("加入购物车成功!"),null==(s=x.value)||s.close()},Q=async e=>{console.log("e",e),h.value=e.sku,y.value=e.num},R=e=>{console.log("item",e),X.value=e},$=async()=>{const e=await I();console.log("getAddressList",e),K.value=e};return P((e=>{console.log("options",e),a.value=e.id,(async()=>{const e=await U({id:a.value});console.log("商品详情",e);const s=e;s.images=e.images.split(",").map((e=>({image:C(e)}))),l.value=s,h.value=s.tags?[s.tags_text[0]]:[]})(),S().token&&((async()=>{const e=await z();console.log("getAddressDefault",e),e&&(X.value=e)})(),$()),j("refreshAddressList",(()=>{$()}))})),(e,s)=>{const k=o(c("uv-navbar"),Y),P=o(c("uv-swiper"),J),S=i,j=g,U=A,z=o(c("uv-icon"),N),I=o(c("uv-parse"),O),Z=o(c("uv-badge"),W),G=o(c("uv-button"),H);return r(),b(S,{class:"goods-detail-container"},{default:d((()=>[n(k,{title:"商品详情","auto-back":"","bg-color":"#E42B28","title-style":"color: #FFFFFF;font-size:40rpx;","left-icon-color":"#FFFFFF",placeholder:"",fixed:""}),n(S,{class:"swiper-box"},{default:d((()=>[n(P,{list:l.value.images,height:"558rpx",keyName:"image","bg-color":"#FFFFFF",circular:"",indicator:"",onClick:q},null,8,["list"])])),_:1}),n(S,{class:"card-box goods-info"},{default:d((()=>[n(S,{class:"flex items-center justify-between"},{default:d((()=>[n(S,{class:"flex items-center"},{default:d((()=>[n(S,{class:"goods-price"},{default:d((()=>[p(" ￥"+B(l.value.price),1)])),_:1}),n(S,{class:"goods-old-price"},{default:d((()=>[p(" 原价："+B(l.value.original_price),1)])),_:1})])),_:1}),n(S,{class:""},{default:d((()=>[n(j,{class:"icon-share",src:"/h5/static/icons/icon_share.png",mode:"",onClick:s[0]||(s[0]=e=>{var s;null==(s=t.value)||s.open()})})])),_:1})])),_:1}),n(S,{class:"mt-16 goods-name"},{default:d((()=>[p(B(l.value.name),1)])),_:1}),n(S,{class:"mt-16 goods-sale"},{default:d((()=>[p(" 成交量："+B(l.value.sales),1)])),_:1})])),_:1}),n(S,{class:"gap"}),n(S,{class:"card-box"},{default:d((()=>[n(S,{class:"flex items-center justify-between",onClick:s[1]||(s[1]=e=>E(3))},{default:d((()=>[n(S,{class:"goods-sku-item"},{default:d((()=>[n(U,{class:"bold"},{default:d((()=>[p("规格")])),_:1}),h.value.length?(r(),b(U,{key:0,class:"ml-20"},{default:d((()=>[p(B(h.value.join("/"))+" * "+B(y.value),1)])),_:1})):(r(),b(U,{key:1,class:"ml-20"},{default:d((()=>[p("请选择规格 ")])),_:1}))])),_:1}),n(z,{bold:"",name:"arrow-right"})])),_:1}),n(S,{class:"gap-line"}),n(S,{class:""},{default:d((()=>[n(S,{class:"flex items-center justify-between",onClick:s[2]||(s[2]=e=>{F.value.open()})},{default:d((()=>[n(S,{class:""},{default:d((()=>[n(S,{class:"goods-sku-item"},{default:d((()=>[n(U,{class:"bold"},{default:d((()=>[p("物流")])),_:1}),n(U,{class:"ml-20"},{default:d((()=>[p(B(0!=Number(l.value.freight)&&l.value.freight?`￥${l.value.freight}`:"免配送费"),1)])),_:1})])),_:1}),n(S,{class:"goods-sku-item mt-8"},{default:d((()=>[n(U,{class:"bold"},{default:d((()=>[p("配送至")])),_:1}),n(U,{class:"ml-20"},{default:d((()=>[p(B(X.value.id?`${X.value.province}/${X.value.city}/${X.value.region}\t`:"请选择地址"),1)])),_:1})])),_:1})])),_:1}),n(z,{bold:"",name:"arrow-right"})])),_:1})])),_:1})])),_:1}),n(S,{class:"gap"}),l.value.comment_info?(r(),b(S,{key:0,class:"card-box goods-comments-box"},{default:d((()=>[n(S,{class:"goods-comments-title flex items-center justify-between"},{default:d((()=>[n(U,null,{default:d((()=>[p("商品评价")])),_:1}),n(z,{bold:"",name:"arrow-right"})])),_:1}),n(S,{class:"goods-comments-tags mt-32 flex items-center flex-wrap"},{default:d((()=>[n(S,{class:"goods-comments-tag goods-comments-tag-active center"},{default:d((()=>[p(" 好评（"+B(l.value.comment_info.statistics.good)+"） ",1)])),_:1}),n(S,{class:"goods-comments-tag center"},{default:d((()=>[p(" 中评（"+B(l.value.comment_info.statistics.normal)+"） ",1)])),_:1}),n(S,{class:"goods-comments-tag center"},{default:d((()=>[p(" 差评（"+B(l.value.comment_info.statistics.bad)+"） ",1)])),_:1}),n(S,{class:"goods-comments-tag center"},{default:d((()=>[p(" 有图（"+B(l.value.comment_info.statistics.has_images)+"） ",1)])),_:1})])),_:1}),n(S,{class:"goods-comments-list mt-36"},{default:d((()=>[(r(!0),u(f,null,M(l.value.comment_info.list,((e,s)=>(r(),b(S,{class:"goods-comments-list-item",key:s},{default:d((()=>[n(S,{class:"flex items-center"},{default:d((()=>[n(j,{class:"avatar",src:v(C)(e.user.avatar),mode:"aspectFill"},null,8,["src"]),n(S,{class:"pl-20 flex-1"},{default:d((()=>[n(S,{class:"nickname"},{default:d((()=>[p(B(e.user.nickname),1)])),_:2},1024),n(S,{class:"flex items-center mt-10"},{default:d((()=>[(r(!0),u(f,null,M(e.score,(e=>(r(),b(j,{class:"icon-rate mr-10",key:e,src:T,mode:""})))),128)),(r(!0),u(f,null,M(5-e.score,(e=>(r(),b(j,{class:"icon-rate mr-10",key:e,src:_,mode:""})))),128))])),_:2},1024)])),_:2},1024)])),_:2},1024),n(S,{class:"content mt-40"},{default:d((()=>[p(B(e.content),1)])),_:2},1024),n(S,{class:"sku mt-30"},{default:d((()=>[p(B(e.sub.tag),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),n(S,{class:"center"},{default:d((()=>[n(S,{class:"goods-more-comments-btn center",onClick:s[3]||(s[3]=e=>v(V)("/pages_shop/pages/goods-comments/goods-comments",{id:a.value}))},{default:d((()=>[p(" 查看全部评价 ")])),_:1})])),_:1})])),_:1})):m("",!0),n(S,{class:"gap"}),n(S,{class:"goods-detail-box card-box"},{default:d((()=>[n(S,{class:"goods-detail-title center pb-20"},{default:d((()=>[p(" 商品详情 ")])),_:1}),n(S,{class:""},{default:d((()=>[n(I,{content:l.value.content},null,8,["content"])])),_:1})])),_:1}),n(S,{class:"goods-bottom-box flex items-center justify-between"},{default:d((()=>[n(S,{class:"menus flex items-center"},{default:d((()=>[n(S,{class:"menu-item center flex-column",onClick:s[4]||(s[4]=e=>v(V)("/pages_shop/pages/car/car"))},{default:d((()=>[n(j,{class:"icon-48",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAABO5JREFUaEPdmV1oHFUUgM+Z6SYpRLKGSCvmoaIPFSxYaKE+CCtUaH5m7im2YNGHCBWFBqpoQRFBQbDQgoKKPihVVCykJffumsQ396FQxIB5qFiwYMBCC604S3zIT3eOc8JsmG6SnZ8k08T7tMzOPed895x77rlnELb4wC1uP/z/AFzX3WHb9m7f92drtdpv1Wr1383spWUeIKK/AKBXjGbmWUT83PO8dzYryEoAowBATat+yfO8vs0IseoeKJVKnV1dXScA4H1E3MbMZ40xpzZbOMVuYqXUB4j4JgB4nuc9UK1W72wmiFgA13UftSzrDzF6YWFhz9jY2JUtBSDGEtEMAHQy81FjzIXw2SMA8EIeMMx8tVarXVzJ+7EeEAOVUr8g4r7g97ta6/fCZyOIeCQPgFDHVL1ef6ZSqdyO6kwEQETnAGCImS8YY46KAMdxDti2/XIOAD3MfBARO5j5C2PMS1kAXg9C6CwAXNFa78nB6LtUENEQAJyTc8kYsz01gOM4g7ZtV2Si53nbq9XqbJ4QRCTn0igz3zHGFFIDENEuAPgznLhXaz2VM8CHwdq9GuSTKa313tQAYdb5BwCKvu8fK5fL53MG+BUAngj0f6S1fi0TgFLqMiIeYObTxpi38gIgoiIAyOLJOKy11lkBPkPEV4KVEBmHcwRYjP9Q3/1aay8TABGdFBfKoWKMeSxHgFXjX2xIdA7Ii67rHrIsayLvTEREq8Z/KoD+/v6dbW1tN2SS7/v7y+Xy5EZ7IS7+UwFEMxEiDo2Ojn6dA0DL+E8NEMlEudwNiKhl/KcGIKKPAWAYAH7QWjs5eKBl/KcGcF132LIsgZjWWj+8kQBJ4j81ABGVAOCnMBPdt5F35Eb9s1r+byxe4jQqExzH6bFt+1YemYiIpHgcBIBLWuunVvN2KgARopS6hYg9AHBca/3leodRqVTaViwWz4TFm4h/UWv91boBEJGEkITSssIqDqZUKnV0d3fvYGapb6Qw3GlZllxUdgU1VgciSj9KZDf6UueNMcdayU3tgUYmYuYfjTF9InxwcPChQqFwUAxCxE4xIGjDdIaeEm/JfbpX2jNxkPK/1P3B3E88zzsV1wVJDdDIRMx80xjzYBhWE4h4KIlx0XdERtCykcvRNABIC/O21Fq+75tKpXI1ibzUAOFd+HI0Oyil3kbE48G+uB62I683DPJ9/2/LssS46Xq9Pmvb9k252DVXlUmMXemd1ABN+flprXU1q/L1mJcaIAyZ3xFxd7RLsR7GZJGRFeCEbLJQ4bf1ev10oVDYsDa8bdveyMhIbV1CqCFEKZV3Y+tI0NK52AyRyQMRCPGENH4X8/ZGjmhbM6pnTQANQX19fb3t7e2JcnwWyPn5+dnx8XHJXstGZgAielZOTcnbiPjdWtOi9J6Y+Xk5oQFAWpg/J4HNBBC5FyzqCCGezAoxMDDweKFQkLNFTvHFkfTWlxqgqUu3tEjMPGyM+TTJqjW/o5T6HhGfiz6PnvStZGYBWLoTNCnMfM2MFIh32Rq08mPti32hmV6+nRWLRfmSKbEaHcu6Zkm9oZQ6g4hvNC3IpDFmf5yM1AAiMOxWf9OAWOsHwPCDopwriwUhM1/zfd9JUtBlAhAloSf2zc3NXZuYmJDibc1DNrNlWZ0zMzOTcWX00mZfs9Z7LCCzB+6x3UvqtzzAf6/oOk+jjh9DAAAAAElFTkSuQmCC",mode:""}),n(U,{class:"mt-4"},{default:d((()=>[p("购物车")])),_:1}),n(S,{class:"menu-badge"},{default:d((()=>[n(Z,{max:"99",value:"0",type:"error"})])),_:1})])),_:1})])),_:1}),n(S,{class:"btns flex"},{default:d((()=>[n(G,{class:"btn","custom-style":"border-radius: 40rpx 0rpx 0rpx 40rpx;",text:"加入购物车",color:"#FFC527",onClick:s[5]||(s[5]=e=>E(2))}),n(G,{class:"btn","custom-style":"border-radius: 0rpx 40rpx 40rpx 0rpx;",text:"立即购买",color:"#E42B28",onClick:s[6]||(s[6]=e=>E(1))})])),_:1})])),_:1}),l.value.id?(r(),b(ue,{key:1,ref_key:"sharePopup",ref:t,goods:l.value},null,8,["goods"])):m("",!0),n(re,{ref_key:"skusPopup",ref:x,selectSku:h.value,goods:l.value,skus:l.value.tags_text,type:w.value,onBuyGoods:D,onAddToCart:L,onChange:Q},null,8,["selectSku","goods","skus","type"]),n(ne,{ref_key:"addressPopup",ref:F,address:X.value,list:K.value,onChange:R},null,8,["address","list"])])),_:1})}}},[["__scopeId","data-v-212fc398"]]);export{de as default};
