var t,e,a,s,i,n,r,l;import{c as o,a as u,w as c,m as p,t as d,n as h,E as f,l as m,r as v,e as y,g,O as x,i as _,b as S,a6 as b,J as D,f as k,p as C,o as w,bD as A,aX as F,bF as I,d as $,h as N,F as z,j as L,I as O}from"./index-Dmu3mr1_.js";import{_ as B}from"./uv-navbar.CCP2bw2Z.js";import{_ as j}from"./uv-icon.zJBDCHES.js";import{m as E,a as T,f as G,p as M,d as U,e as X,b as Y}from"./mixin.qHq9NBSw.js";import{_ as Q}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./uv-status-bar.C2pO0b0Y.js";const W=Q({name:"uv-link",emits:["click"],mixins:[E,T,{props:{color:{type:String,default:""},fontSize:{type:[String,Number],default:14},underLine:{type:Boolean,default:!1},href:{type:String,default:""},mpTips:{type:String,default:"链接已复制，请在浏览器打开"},lineColor:{type:String,default:""},text:{type:String,default:""},...null==(e=null==(t=uni.$uv)?void 0:t.props)?void 0:e.link}}],computed:{linkStyle(){return{color:this.color,fontSize:this.$uv.addUnit(this.fontSize),lineHeight:this.$uv.addUnit(this.$uv.getPx(this.fontSize)+2),textDecoration:this.underLine?"underline":"none"}}},methods:{openLink(){window.open(this.href),this.$emit("click")}}},[["render",function(t,e,a,s,i,n){const r=m;return u(),o(r,{class:"uv-link",onClick:f(n.openLink,["stop"]),style:h([n.linkStyle,t.$uv.addStyle(t.customStyle)])},{default:c((()=>[p(d(t.text),1)])),_:1},8,["onClick","style"])}],["__scopeId","data-v-3420edd1"]]);const P=Q({name:"uv-text",emits:["click"],mixins:[E,T,{computed:{value(){const{text:t,mode:e,format:a,href:s}=this;return"price"===e?G(a)?a(t):M(t,2):"date"===e?(!U(t)&&X(),G(a)?a(t):Y(t,a||"yyyy-mm-dd")):"phone"===e?G(a)?a(t):"encrypt"===a?`${t.substr(0,3)}****${t.substr(7)}`:t:"name"===e?G(a)?a(t):"encrypt"===a?this.formatName(t):t:t}},methods:{formatName(t){let e="";if(2===t.length)e=t.substr(0,1)+"*";else if(t.length>2){let a="";for(let e=0,s=t.length-2;e<s;e++)a+="*";e=t.substr(0,1)+a+t.substr(-1,1)}else e=t;return e}}},{props:{type:{type:String,default:""},show:{type:Boolean,default:!0},text:{type:[String,Number],default:""},prefixIcon:{type:String,default:""},suffixIcon:{type:String,default:""},mode:{type:String,default:""},href:{type:String,default:""},format:{type:[String,Function],default:""},call:{type:Boolean,default:!0},openType:{type:String,default:""},bold:{type:Boolean,default:!1},block:{type:Boolean,default:!1},lines:{type:[String,Number],default:""},color:{type:String,default:"#303133"},size:{type:[String,Number],default:15},iconStyle:{type:[Object,String],default:()=>({fontSize:"15px"})},decoration:{type:String,default:"none"},margin:{type:[Object,String,Number],default:0},lineHeight:{type:[String,Number],default:""},align:{type:String,default:"left"},wordWrap:{type:String,default:"normal"},...null==(s=null==(a=uni.$uv)?void 0:a.props)?void 0:s.text}}],computed:{valueStyle(){const t={textDecoration:this.decoration,fontWeight:this.bold?"bold":"normal",wordWrap:this.wordWrap,fontSize:this.$uv.addUnit(this.size)};return!this.type&&(t.color=this.color),this.isNvue&&this.lines&&(t.lines=this.lines),!this.isNvue||"price"==this.mode||this.prefixIcon||this.suffixIcon||(t.flex=1,t.textAlign="left"===this.align?"flex-start":"center"===this.align?"center":"right"),this.lineHeight&&(t.lineHeight=this.$uv.addUnit(this.lineHeight)),!this.isNvue&&this.block&&(t.display="block"),this.$uv.deepMerge(t,this.$uv.addStyle(this.customStyle))},isNvue:()=>!1,isMp:()=>!1},data:()=>({}),methods:{clickHandler(){this.call&&"phone"===this.mode&&D({phoneNumber:this.text}),this.$emit("click")}}},[["render",function(t,e,a,s,i,n){const r=m,l=v(y("uv-icon"),j),f=_,D=v(y("uv-link"),W),k=b;return t.show?(u(),o(f,{key:0,class:x(["uv-text",[]]),style:h({margin:t.margin,justifyContent:"left"===t.align?"flex-start":"center"===t.align?"center":"flex-end"}),onClick:n.clickHandler},{default:c((()=>["price"===t.mode?(u(),o(r,{key:0,class:x(["uv-text__price",t.type&&`uv-text__value--${t.type}`]),style:h([n.valueStyle])},{default:c((()=>[p("￥")])),_:1},8,["class","style"])):g("",!0),t.prefixIcon?(u(),o(f,{key:1,class:"uv-text__prefix-icon"},{default:c((()=>[S(l,{name:t.prefixIcon,customStyle:t.$uv.addStyle(t.iconStyle)},null,8,["name","customStyle"])])),_:1})):g("",!0),"link"===t.mode?(u(),o(D,{key:2,text:t.value,href:t.href,underLine:""},null,8,["text","href"])):t.openType&&n.isMp?(u(),o(k,{key:3,class:"uv-reset-button uv-text__value",style:h([n.valueStyle]),openType:t.openType,onGetuserinfo:t.onGetUserInfo,onContact:t.onContact,onGetphonenumber:t.onGetPhoneNumber,onError:t.onError,onLaunchapp:t.onLaunchApp,onOpensetting:t.onOpenSetting,lang:t.lang,"session-from":t.sessionFrom,"send-message-title":t.sendMessageTitle,"send-message-path":t.sendMessagePath,"send-message-img":t.sendMessageImg,"show-message-card":t.showMessageCard,"app-parameter":t.appParameter},{default:c((()=>[p(d(t.value),1)])),_:1},8,["style","openType","onGetuserinfo","onContact","onGetphonenumber","onError","onLaunchapp","onOpensetting","lang","session-from","send-message-title","send-message-path","send-message-img","show-message-card","app-parameter"])):(u(),o(r,{key:4,class:x(["uv-text__value",[t.type&&`uv-text__value--${t.type}`,t.lines&&`uv-line-${t.lines}`]]),style:h([n.valueStyle])},{default:c((()=>[p(d(t.value),1)])),_:1},8,["style","class"])),t.suffixIcon?(u(),o(f,{key:5,class:"uv-text__suffix-icon"},{default:c((()=>[S(l,{name:t.suffixIcon,customStyle:t.$uv.addStyle(t.iconStyle)},null,8,["name","customStyle"])])),_:1})):g("",!0)])),_:1},8,["style","onClick"])):g("",!0)}],["__scopeId","data-v-6fde0f74"]]);const R=Q({name:"uv-steps-item",mixins:[E,T,{props:{title:{type:[String,Number],default:""},desc:{type:[String,Number],default:""},iconSize:{type:[String,Number],default:17},error:{type:Boolean,default:!1},...null==(n=null==(i=uni.$uv)?void 0:i.props)?void 0:n.stepsItem}}],data:()=>({index:0,childLength:0,showLine:!1,size:{height:0,width:0},parentData:{direction:"row",current:0,activeColor:"",inactiveColor:"",activeIcon:"",inactiveIcon:"",dot:!1}}),watch:{parentData(t,e){}},created(){this.init()},computed:{lineStyle(){var t,e;const a={};return"row"===this.parentData.direction?(a.width=this.size.width+"px",a.left=this.size.width/2+"px"):a.height=this.size.height+"px",a.backgroundColor=(null==(e=null==(t=this.parent.children)?void 0:t[this.index+1])?void 0:e.error)?"#f56c6c":this.index<this.parentData.current?this.parentData.activeColor:this.parentData.inactiveColor,a},statusClass(){const{index:t,error:e}=this,{current:a}=this.parentData;return a==t?!0===e?"error":"process":e?"error":a>t?"finish":"wait"},statusColor(){let t="";switch(this.statusClass){case"finish":t=this.parentData.activeColor;break;case"error":t="#f56c6c";break;case"process":t=this.parentData.dot?this.parentData.activeColor:"transparent";break;default:t=this.parentData.inactiveColor}return t},contentStyle(){const t={};return"column"===this.parentData.direction?(t.marginLeft=this.parentData.dot?"2px":"6px",t.marginTop=this.parentData.dot?"0px":"6px"):(t.marginTop=this.parentData.dot?"2px":"6px",t.marginLeft=this.parentData.dot?"2px":"6px"),t}},mounted(){this.parent&&this.parent.updateFromChild(),this.$uv.sleep().then((()=>{this.getStepsItemRect()}))},methods:{init(){if(this.updateParentData(),!this.parent)return this.$uv.error("uv-steps-item必须要搭配uv-steps组件使用");this.index=this.parent.children.indexOf(this),this.childLength=this.parent.children.length},updateParentData(){this.getParentData("uv-steps")},updateFromParent(){this.init()},getStepsItemRect(){this.$uvGetRect(".uv-steps-item").then((t=>{this.size=t}))}}},[["render",function(t,e,a,s,i,n){const r=_,l=v(y("uv-icon"),j),f=m,b=v(y("uv-text"),P);return u(),o(r,{class:x(["uv-steps-item",[`uv-steps-item--${i.parentData.direction}`]]),ref:"uv-steps-item",style:h([t.$uv.addStyle(t.customStyle)])},{default:c((()=>[i.index+1<i.childLength?(u(),o(r,{key:0,class:x(["uv-steps-item__line",[`uv-steps-item__line--${i.parentData.direction}`]]),style:h([n.lineStyle])},null,8,["class","style"])):g("",!0),S(r,{class:x(["uv-steps-item__wrapper",`uv-steps-item__wrapper--${i.parentData.direction}`,i.parentData.dot&&`uv-steps-item__wrapper--${i.parentData.direction}--dot`])},{default:c((()=>[k(t.$slots,"icon",{},(()=>[i.parentData.dot?(u(),o(r,{key:0,class:"uv-steps-item__wrapper__dot",style:h({backgroundColor:n.statusColor})},null,8,["style"])):i.parentData.activeIcon||i.parentData.inactiveIcon?(u(),o(r,{key:1,class:"uv-steps-item__wrapper__icon"},{default:c((()=>[S(l,{name:i.index<=i.parentData.current?i.parentData.activeIcon:i.parentData.inactiveIcon,size:t.iconSize,color:i.index<=i.parentData.current?i.parentData.activeColor:i.parentData.inactiveColor},null,8,["name","size","color"])])),_:1})):(u(),o(r,{key:2,style:h({backgroundColor:"process"===n.statusClass?i.parentData.activeColor:"transparent",borderColor:n.statusColor}),class:"uv-steps-item__wrapper__circle"},{default:c((()=>["process"===n.statusClass||"wait"===n.statusClass?(u(),o(f,{key:0,class:"uv-steps-item__wrapper__circle__text",style:h({color:i.index==i.parentData.current?"#ffffff":i.parentData.inactiveColor})},{default:c((()=>[p(d(i.index+1),1)])),_:1},8,["style"])):(u(),o(l,{key:1,color:"error"===n.statusClass?"error":i.parentData.activeColor,size:"12",name:"error"===n.statusClass?"close":"checkmark"},null,8,["color","name"]))])),_:1},8,["style"]))]),!0)])),_:3},8,["class"]),S(r,{class:x(["uv-steps-item__content",`uv-steps-item__content--${i.parentData.direction}`]),style:h([n.contentStyle])},{default:c((()=>[k(t.$slots,"title",{},(()=>[S(b,{text:t.title,type:i.parentData.current==i.index?"main":"content",lineHeight:"20px",size:i.parentData.current==i.index?14:13},null,8,["text","type","size"])]),!0),k(t.$slots,"desc",{},(()=>[S(b,{text:t.desc,type:"tips",size:"12"},null,8,["text"])]),!0)])),_:3},8,["class","style"])])),_:3},8,["class","style"])}],["__scopeId","data-v-74163a7f"]]);const H=Q({name:"uv-steps",mixins:[E,T,{props:{direction:{type:String,default:"row"},current:{type:[String,Number],default:0},activeColor:{type:String,default:"#3c9cff"},inactiveColor:{type:String,default:"#969799"},activeIcon:{type:String,default:""},inactiveIcon:{type:String,default:""},dot:{type:Boolean,default:!1},...null==(l=null==(r=uni.$uv)?void 0:r.props)?void 0:l.steps}}],data:()=>({}),watch:{children(){this.updateChildData()},parentData(){this.updateChildData()}},computed:{parentData(){return[this.current,this.direction,this.activeColor,this.inactiveColor,this.activeIcon,this.inactiveIcon,this.dot]}},methods:{updateChildData(){this.children.map((t=>{G((t||{}).updateFromParent())&&t.updateFromParent()}))},updateFromChild(){this.updateChildData()}},created(){this.children=[]}},[["render",function(t,e,a,s,i,n){const r=_;return u(),o(r,{class:x(["uv-steps",`uv-steps--${t.direction}`]),style:h([t.$uv.addStyle(t.customStyle)])},{default:c((()=>[k(t.$slots,"default",{},void 0,!0)])),_:3},8,["class","style"])}],["__scopeId","data-v-0487c027"]]),V=Q({__name:"order-logistics",setup(t){const e=C(),a=C({}),s=C([]),i=async()=>{const t=await I({waybill:a.value.waybill});console.log("getOrderExpressQuery",t),s.value=t};return w((t=>{console.log("options",t),e.value=t.id,(async()=>{try{const t=await A({id:e.value});console.log("getOrderDetail",t),a.value=t,a.value.waybill&&i()}catch(t){}finally{F()}})()})),(t,e)=>{const i=v(y("uv-navbar"),B),n=_,r=$,l=v(y("uv-steps-item"),R),h=v(y("uv-steps"),H);return u(),o(n,{class:"h-100-bg-drak"},{default:c((()=>[S(i,{title:"查看物流","auto-back":"","bg-color":"#E42B28","title-style":"color: #FFFFFF;font-size:40rpx;","left-icon-color":"#FFFFFF",placeholder:"",fixed:""}),S(n,{class:"px-32 py-22"},{default:c((()=>[S(n,{class:"card-box order-box"},{default:c((()=>[S(n,{class:"flex"},{default:c((()=>[p(" 快递公司："+d(a.value.express),1)])),_:1}),S(n,{class:"mt-20 flex items-center justify-between"},{default:c((()=>[S(n,{class:""},{default:c((()=>[p(" 快递单号："+d(a.value.waybill),1)])),_:1}),S(r,{class:"icon-40",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAhCAYAAADOHBvaAAAAAXNSR0IArs4c6QAAAf1JREFUWEft1zFoE1EYB/D//6UWrBhQF4cIbgWDdwe1DoJFEM3Vwc1FcXRTkjs6Cs5STJqKm4uDCF2c9F3AyakYoVel7eAg1kFxKAadmvA+OUwklbvapJd2MLfdu/e+373vfffujgBgecF5BdwHYQE4FLX1ewiwQXARLZbC+csfkuLQKekLolgjMNovFjdOgG/N1ubk6vzV9bjrdDxdB3kmTbQTS4BHy2X3djzsB00AI4OAAdTDsns2CZYBoYBgLay4p/4/2LrzMqdG1AtAlqhG7y09uPiJjh8MPNVOSZ+E4sco5QL5KpvNc3sOt/Gn+wJDsL4/MNAYwunuJe0NpLuq28Aw1elmurNXD1ON4XOccmn9+RDY8+ISyOpyeTofC9u+/kLweOqz/f3+exVW3Ev5op48kOGbLqNB29Nlkt4gYGNw692c+9jygqIi5rbAOW/h4DFmnxMopIqLqYaVKyVcW8jYuewKifEtcOfELuoCFSxQje3mBsRgoyVmcaU6XY/iOL6eBTjzV8wGd4NsNzbvBUczwENFXI/plwzbnvZIle31xgQyRsG4EFMEjsT+3gi+J87Y9oO3BCZ6hXfUX7CWCFt+bUZBZncUqOdO5m7yGkfVeOLwE4I3eo677QB5Fn7+cfOfxXW6WJtSykz0s97dvoj8NIb199XC66j9F9tZKlM/ZD7zAAAAAElFTkSuQmCC",mode:"",onClick:e[0]||(e[0]=t=>{return e=a.value.waybill,void O({data:e});var e})})])),_:1})])),_:1}),S(n,{class:"mt-20 card-box"},{default:c((()=>[S(h,{current:"0",dot:"",direction:"column","active-color":"#E42B28"},{default:c((()=>[(u(!0),N(z,null,L(s.value,((t,e)=>(u(),o(l,{key:e,title:t.context,desc:t.time},null,8,["title","desc"])))),128))])),_:1})])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-2d7d0b0b"]]);export{V as default};
