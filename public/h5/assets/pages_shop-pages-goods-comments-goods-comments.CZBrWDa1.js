import{p as s,bt as a,o as e,c as t,w as l,bu as o,i as c,r as n,e as m,a as r,b as u,O as i,m as d,t as f,h as g,F as p,j as _,d as v,D as x,x as F,H as b}from"./index-Dmu3mr1_.js";import{_ as k}from"./uv-navbar.CCP2bw2Z.js";import{_ as j,a as y}from"./icon_rate.1z4GVlmh.js";import{_ as h}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./uv-status-bar.C2pO0b0Y.js";import"./mixin.qHq9NBSw.js";import"./uv-icon.zJBDCHES.js";const w=h({__name:"goods-comments",setup(h){const w=s(),C=s([]),z=s(1),B=s({}),D=async()=>{const s=await o({id:w.value,page:z.value});console.log("getCommentList",s),1==z.value?(C.value=s.list,B.value=s.statistics):C.value=C.value.concat(s.list)};return a((()=>{z.value+=1,D()})),e((s=>{console.log("options",s),w.value=s.id,D()})),(s,a)=>{const e=n(m("uv-navbar"),k),o=c,h=v;return r(),t(o,{class:"goods-comments-container"},{default:l((()=>[u(e,{title:"商品评价","auto-back":"","bg-color":"#E42B28","title-style":"color: #FFFFFF;font-size:40rpx;","left-icon-color":"#FFFFFF",placeholder:"",fixed:""}),u(o,{class:"py-30 px-36"},{default:l((()=>[u(o,{class:"goods-comments-tags flex items-center flex-wrap"},{default:l((()=>[u(o,{class:i(["goods-comments-tag center",{"goods-comments-tag-active":!1}])},{default:l((()=>[d(" 全部（"+f(B.value.all)+"） ",1)])),_:1}),u(o,{class:"goods-comments-tag center"},{default:l((()=>[d(" 好评（"+f(B.value.good)+"） ",1)])),_:1}),u(o,{class:"goods-comments-tag center"},{default:l((()=>[d(" 中评（"+f(B.value.normal)+"） ",1)])),_:1}),u(o,{class:"goods-comments-tag center"},{default:l((()=>[d(" 差评（"+f(B.value.bad)+"） ",1)])),_:1}),u(o,{class:"goods-comments-tag center"},{default:l((()=>[d(" 有图（"+f(B.value.has_images)+"） ",1)])),_:1})])),_:1}),u(o,{class:"goods-comments-list mt-36"},{default:l((()=>[(r(!0),g(p,null,_(C.value,((s,a)=>(r(),t(o,{class:"goods-comments-list-item",key:s.id},{default:l((()=>[u(o,{class:"flex items-center"},{default:l((()=>[u(h,{class:"avatar",src:x(F)(s.user.avatar),mode:"aspectFill"},null,8,["src"]),u(o,{class:"pl-20 flex-1"},{default:l((()=>[u(o,{class:"nickname"},{default:l((()=>[d(f(s.user.nickname),1)])),_:2},1024),u(o,{class:"flex items-center mt-10"},{default:l((()=>[(r(!0),g(p,null,_(s.score,(s=>(r(),t(h,{class:"icon-rate mr-10",key:s,src:j,mode:""})))),128)),(r(!0),g(p,null,_(5-s.score,(s=>(r(),t(h,{class:"icon-rate mr-10",key:s,src:y,mode:""})))),128))])),_:2},1024)])),_:2},1024)])),_:2},1024),u(o,{class:"content mt-40"},{default:l((()=>[d(f(s.content),1)])),_:2},1024),u(o,{class:"images flex flex-wrap mt-20"},{default:l((()=>[(r(!0),g(p,null,_(s.images.split(","),((a,e)=>(r(),t(h,{key:e,class:"image",src:x(F)(a),mode:"aspectFill",onClick:a=>((s="",a)=>{const e=s.split(",").map((s=>F(s)));b({urls:e,current:a})})(s.images,e)},null,8,["src","onClick"])))),128))])),_:2},1024),u(o,{class:"sku mt-30"},{default:l((()=>[d(f(s.sub.tag),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-367029d9"]]);export{w as default};
