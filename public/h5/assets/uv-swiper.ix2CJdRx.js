var e,t,i,r;import{c as a,a as n,w as l,g as o,i as s,n as d,O as u,b as c,h as p,F as y,j as g,r as v,e as h,S as _,k as m,d as f,ah as w,l as S,m as b,t as I,f as $,aK as k}from"./index-Dmu3mr1_.js";import{_ as C}from"./uv-loading-icon.BL07fx-H.js";import{m as M,a as x}from"./mixin.qHq9NBSw.js";import{_ as N}from"./_plugin-vue_export-helper.BCo6x5W8.js";const j=N({name:"uv-swiper-indicator",mixins:[M,x,{props:{length:{type:[String,Number],default:0},current:{type:[String,Number],default:0},indicatorActiveColor:{type:String,default:""},indicatorInactiveColor:{type:String,default:""},indicatorMode:{type:String,default:""},...null==(t=null==(e=uni.$uv)?void 0:e.props)?void 0:t.swiperIndicator}}],data:()=>({lineWidth:22}),computed:{lineStyle(){let e={};return e.width=this.$uv.addUnit(this.lineWidth),e.transform=`translateX(${this.$uv.addUnit(this.current*this.lineWidth)})`,e.backgroundColor=this.indicatorActiveColor,e},dotStyle(){return e=>{let t={};return t.backgroundColor=e===this.current?this.indicatorActiveColor:this.indicatorInactiveColor,t}}}},[["render",function(e,t,i,r,v,h){const _=s;return n(),a(_,{class:"uv-swiper-indicator"},{default:l((()=>["line"===e.indicatorMode?(n(),a(_,{key:0,class:u(["uv-swiper-indicator__wrapper",[`uv-swiper-indicator__wrapper--${e.indicatorMode}`]]),style:d({width:e.$uv.addUnit(v.lineWidth*e.length),backgroundColor:e.indicatorInactiveColor})},{default:l((()=>[c(_,{class:"uv-swiper-indicator__wrapper--line__bar",style:d([h.lineStyle])},null,8,["style"])])),_:1},8,["class","style"])):o("",!0),"dot"===e.indicatorMode?(n(),a(_,{key:1,class:"uv-swiper-indicator__wrapper"},{default:l((()=>[(n(!0),p(y,null,g(e.length,((t,i)=>(n(),a(_,{class:u(["uv-swiper-indicator__wrapper__dot",[i===e.current&&"uv-swiper-indicator__wrapper__dot--active"]]),key:i,style:d([h.dotStyle(i)])},null,8,["class","style"])))),128))])),_:1})):o("",!0)])),_:1})}],["__scopeId","data-v-abf29ab9"]]);const U=N({name:"uv-swiper",mixins:[M,x,{props:{list:{type:Array,default:()=>[]},indicator:{type:Boolean,default:!1},indicatorActiveColor:{type:String,default:"#fff"},indicatorInactiveColor:{type:String,default:"rgba(255, 255, 255, 0.35)"},indicatorStyle:{type:[String,Object],default:""},indicatorMode:{type:String,default:"line"},autoplay:{type:Boolean,default:!0},current:{type:[String,Number],default:0},currentItemId:{type:String,default:""},interval:{type:[String,Number],default:3e3},duration:{type:[String,Number],default:300},circular:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},previousMargin:{type:[String,Number],default:0},nextMargin:{type:[String,Number],default:0},acceleration:{type:Boolean,default:!1},displayMultipleItems:{type:Number,default:1},easingFunction:{type:String,default:"default"},keyName:{type:String,default:"url"},imgMode:{type:String,default:"aspectFill"},height:{type:[String,Number],default:130},bgColor:{type:String,default:"#f3f4f6"},radius:{type:[String,Number],default:4},loading:{type:Boolean,default:!1},showTitle:{type:Boolean,default:!1},titleStyle:{type:[Object,String],default:""},...null==(r=null==(i=uni.$uv)?void 0:i.props)?void 0:r.swiper}}],emits:["click","change"],data:()=>({currentIndex:0}),watch:{current(e,t){e!==t&&(this.currentIndex=e)}},computed:{itemStyle(){return e=>{const t={};return this.nextMargin&&this.previousMargin&&(t.borderRadius=this.$uv.addUnit(this.radius),e!==this.currentIndex&&(t.transform="scale(0.92)")),t}}},methods:{getItemType(e){return"string"==typeof e?this.$uv.test.video(this.getSource(e))?"video":"image":"object"==typeof e&&this.keyName?e.type?"image"===e.type?"image":"video"===e.type?"video":"image":this.$uv.test.video(this.getSource(e))?"video":"image":void 0},getSource(e){return"string"==typeof e?e:"object"==typeof e&&this.keyName?e[this.keyName]:(this.$uv.error("请按格式传递列表参数"),"")},change(e){const{current:t}=e.detail;this.pauseVideo(this.currentIndex),this.currentIndex=t,this.$emit("change",e.detail)},pauseVideo(e){const t=this.getSource(this.list[e]);if(this.$uv.test.video(t)){k(`video-${e}`,this).pause()}},getPoster:e=>"object"==typeof e&&e.poster?e.poster:"",clickHandler(e){this.$emit("click",e)}}},[["render",function(e,t,i,r,u,k){const M=v(h("uv-loading-icon"),C),x=s,N=f,U=w,A=S,B=m,T=_,F=v(h("uv-swiper-indicator"),j);return n(),a(x,{class:"uv-swiper",style:d({backgroundColor:e.bgColor,height:e.$uv.addUnit(e.height),borderRadius:e.$uv.addUnit(e.radius)})},{default:l((()=>[e.loading?(n(),a(x,{key:0,class:"uv-swiper__loading"},{default:l((()=>[c(M,{mode:"circle"})])),_:1})):(n(),a(T,{key:1,class:"uv-swiper__wrapper",style:d({height:e.$uv.addUnit(e.height),flex:1}),onChange:k.change,circular:e.circular,vertical:e.vertical,interval:e.interval,duration:e.duration,autoplay:e.autoplay,current:e.current,currentItemId:e.currentItemId,previousMargin:e.$uv.addUnit(e.previousMargin),nextMargin:e.$uv.addUnit(e.nextMargin),acceleration:e.acceleration,displayMultipleItems:e.displayMultipleItems,easingFunction:e.easingFunction},{default:l((()=>[(n(!0),p(y,null,g(e.list,((t,i)=>(n(),a(B,{class:"uv-swiper__wrapper__item",key:i},{default:l((()=>[c(x,{class:"uv-swiper__wrapper__item__wrapper",style:d([k.itemStyle(i)])},{default:l((()=>["image"===k.getItemType(t)?(n(),a(N,{key:0,class:"uv-swiper__wrapper__item__wrapper__image",src:k.getSource(t),mode:e.imgMode,onClick:e=>k.clickHandler(i),style:d({height:e.$uv.addUnit(e.height),borderRadius:e.$uv.addUnit(e.radius)})},null,8,["src","mode","onClick","style"])):o("",!0),"video"===k.getItemType(t)?(n(),a(U,{key:1,class:"uv-swiper__wrapper__item__wrapper__video",id:`video-${i}`,"enable-progress-gesture":!1,src:k.getSource(t),poster:k.getPoster(t),title:e.showTitle&&e.$uv.test.object(t)&&t.title?t.title:"",style:d({height:e.$uv.addUnit(e.height)}),controls:"",onClick:e=>k.clickHandler(i)},null,8,["id","src","poster","title","style","onClick"])):o("",!0),e.showTitle&&e.$uv.test.object(t)&&t.title?(n(),a(A,{key:2,class:"uv-swiper__wrapper__item__wrapper__title uv-line-1",style:d([e.$uv.addStyle(e.titleStyle)])},{default:l((()=>[b(I(t.title),1)])),_:2},1032,["style"])):o("",!0)])),_:2},1032,["style"])])),_:2},1024)))),128))])),_:1},8,["style","onChange","circular","vertical","interval","duration","autoplay","current","currentItemId","previousMargin","nextMargin","acceleration","displayMultipleItems","easingFunction"])),c(x,{class:"uv-swiper__indicator",style:d([e.$uv.addStyle(e.indicatorStyle)])},{default:l((()=>[$(e.$slots,"indicator",{},(()=>[e.loading||!e.indicator||e.showTitle?o("",!0):(n(),a(F,{key:0,indicatorActiveColor:e.indicatorActiveColor,indicatorInactiveColor:e.indicatorInactiveColor,length:e.list.length,current:u.currentIndex,indicatorMode:e.indicatorMode},null,8,["indicatorActiveColor","indicatorInactiveColor","length","current","indicatorMode"]))]),!0)])),_:3},8,["style"])])),_:3},8,["style"])}],["__scopeId","data-v-401e3eb9"]]);export{U as _};
