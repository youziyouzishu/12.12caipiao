import{z as e,A as s,p as a,ap as t,o as l,c as o,w as i,am as n,i as c,r as u,e as r,a as p,b as m,h as d,F as f,j as v,O as g,m as y,t as h,g as k,$ as _,a5 as b,aq as F,ao as x,Q as C,T as j,a8 as w}from"./index-Dmu3mr1_.js";import{_ as T}from"./uv-navbar.CCP2bw2Z.js";import{_ as S}from"./uv-sticky.CCrDDW9D.js";import{_ as B}from"./uv-button.CRA7t01f.js";import{c as E}from"./c-take-guess-item.Dmj1d0vX.js";import{_ as N}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./uv-status-bar.C2pO0b0Y.js";import"./mixin.qHq9NBSw.js";import"./uv-icon.zJBDCHES.js";import"./uv-loading-icon.BL07fx-H.js";const O=N({__name:"take-guess-sub",setup(N){const O=e(),{userinfo:$}=s(O),A=a("1"),G=a([{name:"全部",type:0},{name:"早场",type:1},{name:"晚场",type:2}]),I=a(0),J=a([]),L=a([]),Q=t().appName,q=e=>{console.log("handleTakeGuessItemClick",e),1!=A.value?e.has_log||(L.value.includes(e.id)?L.value=L.value.filter((s=>s!=e.id)):L.value.push(e.id)):0!=$.value.vip_status?_("/pages_home/pages/take-guess-share/take-guess-share",{id:e.id}):b({title:"提示",content:"请开通会员后查看",confirmText:"前往开通",confirmColor:"#E42B28",success:function(e){e.confirm&&_("/pages_shop/pages/shop/shop")}})},z=async()=>{const e=await n({type:I.value});console.log("getFootballList",e),J.value=e};return l((e=>{console.log("options",e),A.value=e.type||"1",z()})),(e,s)=>{const a=u(r("uv-navbar"),T),t=c,l=u(r("uv-sticky"),S),n=u(r("uv-button"),B);return p(),o(t,{class:"h-100-bg-drak"},{default:i((()=>[m(a,{title:"竞猜足球",fixed:"","auto-back":"","bg-color":"#E42B28","title-style":"color: #FFFFFF;","left-icon-color":"#FFFFFF",placeholder:""}),m(l,{"bg-color":"#FFFFFF"},{default:i((()=>[m(t,{class:"py-20 px-32 tabs flex items-center justify-between"},{default:i((()=>[(p(!0),d(f,null,v(G.value,((e,s)=>(p(),o(t,{class:g(["tab-item",{"tab-item-active":I.value==e.type}]),key:e.name,onClick:s=>{return a=e,console.log("handleTabClick",a),I.value=a.type,void z();var a}},{default:i((()=>[y(h(e.name),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1}),m(t,{class:"px-32 py-20",style:{"padding-bottom":"180rpx"}},{default:i((()=>[(p(!0),d(f,null,v(J.value,(e=>(p(),o(t,{class:"card-box px-20 py-32 mb-24",key:e.date},{default:i((()=>[m(t,{class:"card-date"},{default:i((()=>[y(h(e.date),1)])),_:2},1024),m(t,{class:"mt-20 flex flex-wrap video-list"},{default:i((()=>[(p(!0),d(f,null,v(e.list,((e,s)=>(p(),o(t,{class:"video-list-item",key:e.id},{default:i((()=>[1==A.value?(p(),o(E,{key:0,openCheck:!0,isCheck:!0,item:e,onChange:s=>q(e)},null,8,["item","onChange"])):2==A.value?(p(),o(E,{key:1,openCheck:!0,isCheck:L.value.includes(e.id),item:e,onChange:s=>q(e)},null,8,["isCheck","item","onChange"])):k("",!0)])),_:2},1024)))),128))])),_:2},1024)])),_:2},1024)))),128))])),_:1}),m(t,{class:"setting-btns flex items-center justify-between"},{default:i((()=>["1"==A.value?(p(),o(n,{key:0,class:"share-btn",color:"#EABF3C",text:"分享到微信好友",onClick:s[0]||(s[0]=e=>(()=>{console.log("点击分享");const e=F+"?time="+(new Date).getTime();uni.share({provider:"weixin",scene:"WXSceneSession",type:1,href:e,title:Q,summary:`我正在使用${Q},快来下载吧：${e}`,success:function(e){console.log("success:"+JSON.stringify(e))},fail:function(e){console.log("fail:"+JSON.stringify(e))}})})())})):"2"==A.value?(p(),d(f,{key:1},[m(t,{class:"tips-text"},{default:i((()=>[y("已选择 "+h(L.value.length)+" 个",1)])),_:1}),m(n,{class:"check-btn",color:"#E42B28",text:"确定标记已看完",onClick:s[1]||(s[1]=e=>(async()=>{console.log("标记",L.value.join(",")),await x({lottery_football_ids:L.value}),C("标记完成"),j("refreshTakeGuessList"),setTimeout((()=>{w()}),800)})())})],64)):k("",!0)])),_:1})])),_:1})}}},[["__scopeId","data-v-7d999d42"]]);export{O as default};
